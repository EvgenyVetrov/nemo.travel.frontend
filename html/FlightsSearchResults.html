Results template.

<!-- ko if: !$$loading() && !$$error() -->
<div data-bind="foreach: searchInfo.segments" style="border: 1px solid;margin-bottom: 20px;">
	<div data-bind="text: departure.IATA +' - '+arrival.IATA+' '+departureDate.getISODate()"></div>
</div>

<button class="new-ui-button" data-bind="click: function () {formActive(!formActive())}">FORM</button>

<div class="" data-bind="
		component: {
            name: 'Flights/SearchForm/Controller',
			params: {route: [], formData: $$rawdata}
		},
		attr: {
			style: !formActive() ? 'display: none;' : ''
		}
		">
	Loading component...
</div>

<!-- PF TEMPLATES -->
<script id="nemo-koTemplate-FlightsResults-PF-String" type="text/html">
	<!-- ko foreach: values -->
	<div>
		<label>
			<input data-bind="attr: {
								value: key,
								type: $parent.type == 'singleChoice' ? 'radio' : 'checkbox'
							},
							checked: $parent.value">
				<span data-bind="text:
					($parent.config.name == 'carrier' || $parent.config.name == 'departureAirport' || $parent.config.name == 'arrivalAirport' ? value.name : value)
				"></span>
			<!-- ko text: key + '-' + $parent.value() --><!-- /ko -->
		</label>
	</div>
	<!-- /ko -->
</script>

<div style="padding: 0 420px;position: relative;">
	<!--FILTERES-->
	<div style="border: 1px solid green; position: absolute;top: 0;left: 0;width: 360px;padding: 20px;">
		<h3>
			FILTERS
			<!-- ko if: postFiltersHaveValue() -->
			<span data-bind="click: PFClearAll" class="new-ui-pseudoLink">CLEAR ALL</span>
			<!-- /ko -->
		</h3>
		<div data-bind="foreach: visiblePostFilters">
			<!-- Postfilter as-is -->
			<!-- ko if: typeof isActive == 'function' && isActive() -->
			<div>
				<h4>
					<!-- ko text: config.name --><!-- /ko -->
					<!-- ko if: config.isLegged -->
					<!-- ko text: $parent.searchInfo.segments[config.legNumber].departure.IATA + ' - ' + $parent.searchInfo.segments[config.legNumber].arrival.IATA --><!-- /ko -->
					<!-- /ko -->
					<!-- ko if: hasValue -->
						<span data-bind="click: clear" class="new-ui-pseudoLink">CLEAR</span>
					<!-- /ko -->
				</h4>
				<!-- ko if: config.type == 'Number' -->
					<div data-bind="flightsResultsPFNumberSlider: value"></div>
					<div>
						MIN:
						<!-- ko text: values().min --><!-- /ko -->
					</div>
					<div>
						MAX:
						<!-- ko text: values().max --><!-- /ko -->
					</div>
					<div>
						SELECTED:
						<!-- ko text: value().min --><!-- /ko -->
						-
						<!-- ko text: value().max --><!-- /ko -->
					</div>
				<!-- /ko -->
				<!-- ko if: config.type == 'String' -->
					<div data-bind="template: { name: 'nemo-koTemplate-FlightsResults-PF-String', data: $data }"></div>
				<!-- /ko -->
			</div>
			<!-- /ko-->
			<!-- Postfilter group -->
			<!-- ko if: typeof isActive != 'function'  -->
				<h4>PF GROUP <!-- ko text: filters[0].config.name --><!-- /ko --> (<!-- ko text: activeFilter --><!-- /ko -->)</h4>
				<div>
					<!-- ko if: filters.length > 1 -->
					<div class="new-ui-pseudoLink" data-bind="click: function () {activeFilter(-1);}">
						ALL
					</div>
					<!-- /ko -->
					<!-- ko foreach: filters -->
						<div class="new-ui-pseudoLink" data-bind="click: function () {$parent.activeFilter($index());}">
							Leg: <!-- ko text: config.legNumber + ' ' + (hasValue() ? '!!!' : '') --><!-- /ko -->
						</div>
					<!-- /ko-->
				</div>
				<!-- ko if: filters.length > 1 -->
					<div data-bind="attr: {'style': activeFilter() != -1 ? 'display: none;' : ''}">
						Leg: ALL
						<!-- ko if: value() != '' -->
						<span data-bind="click: clear" class="new-ui-pseudoLink">CLEAR</span>
						<!-- /ko -->
						<div data-bind="template: { name: 'nemo-koTemplate-FlightsResults-PF-String', data: $data }"></div>
					</div>
				<!-- /ko -->
				<!-- ko foreach: filters -->
					<div data-bind="attr: {'style': $index() != $parent.activeFilter() ? 'display: none;' : ''}">
						Leg: <!-- ko text: config.legNumber --><!-- /ko -->
						<!-- ko if: hasValue -->
							<span data-bind="click: clear" class="new-ui-pseudoLink">CLEAR</span>
						<!-- /ko -->
						<div data-bind="template: { name: 'nemo-koTemplate-FlightsResults-PF-String', data: $data }"></div>
					</div>
				<!-- /ko-->
			<!-- /ko-->
		</div>
	</div>

	<div style="border: 1px solid green; position: absolute;top: 0;right: 0;width: 360px;padding: 20px;">
		<h3>BEST FLIGHTS</h3>
		<div data-bind="foreach: showcase.bestCompanies">
			<div>
				Company: <strong data-bind="text: company.name"></strong> (<strong  data-bind="text: company.rating"></strong>)
				<div style="margin: 10px;padding: 10px;border: 1px solid red;" data-bind="with: flight">
					<strong data-bind="text: getTotalPrice().normalizedAmount() + ' ' + getTotalPrice().currency() + ' ' + (filteredOut() ? '-' : '+') + '->' + totalTimeTransfers"></strong>
					<div data-bind="foreach: segments">
						<div data-bind="text: id+' '+depAirp.name+' - '+arrAirp.name+' '+depDateTime.getISODateTime()+' - '+arrDateTime.getISODateTime()"></div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- ko if: hasVisibleResult() -->
		<h3>SHOWCASE</h3>
		<!-- ko if: showcase.recommended() -->
		<h4>recommended</h4>
		<div style="margin: 10px;padding: 10px;border: 1px solid red;" data-bind="with: showcase.recommended">
			<strong data-bind="text: getTotalPrice().normalizedAmount() + ' ' + getTotalPrice().currency() + ' ' + (filteredOut() ? '-' : '+') + '->' + totalTimeTransfers"></strong>
			<div data-bind="foreach: segments">
				<div data-bind="text: id+' '+depAirp.name+' - '+arrAirp.name+' '+depDateTime.getISODateTime()+' - '+arrDateTime.getISODateTime()"></div>
			</div>
		</div>
		<!-- /ko -->
		<!-- ko if: showcase.cheapest() -->
		<h4>cheapest</h4>
		<div style="margin: 10px;padding: 10px;border: 1px solid;" data-bind="with: showcase.cheapest">
			<strong data-bind="text: getTotalPrice().normalizedAmount() + ' ' + getTotalPrice().currency() + ' ' + (filteredOut() ? '-' : '+')"></strong>
			<div data-bind="foreach: flights">
				<div>
					<span data-bind="text: id"></span>
					<strong data-bind="text: (filteredOut() ? '-' : '+') + '->' + totalTimeTransfers"></strong>
				</div>
			</div>
			<div data-bind="foreach: legGroupings">
				<div style="display: inline-block;vertical-align: top;width: 33%;">
					<div data-bind="text: selected().flights.join(', ')"></div>
					<select
							style="width: 90%;"
							data-bind="
									options: options,
									value: selected,
									optionsText: function (item) {return $parent.getSelectedFlightsData(item, $index())},
									optionsAfterRender: setOptionDisable
								"
							></select>
				</div>
			</div>
			<div>
				<strong data-bind="text: selectedFlightsIds().join(', ') || '---'"></strong>
			</div>
		</div>
		<!-- /ko -->
		<!-- ko if: showcase.fastest() -->
		<h4>fastest</h4>
		<div style="margin: 10px;padding: 10px;border: 1px solid red;" data-bind="with: showcase.fastest">
			<strong data-bind="text: getTotalPrice().normalizedAmount() + ' ' + getTotalPrice().currency() + ' ' + (filteredOut() ? '-' : '+') + '->' + totalTimeTransfers"></strong>
			<div data-bind="foreach: segments">
				<div data-bind="text: id+' '+depAirp.name+' - '+arrAirp.name+' '+depDateTime.getISODateTime()+' - '+arrDateTime.getISODateTime()"></div>
			</div>
		</div>
		<!-- /ko -->
		<h3>RESULTS</h3>
		<div data-bind="foreach: groups">
			<!-- ko if: !filteredOut() -->
			<div style="margin: 10px;padding: 10px;border: 1px solid;">
				<strong data-bind="text: getTotalPrice().normalizedAmount() + ' ' + getTotalPrice().currency() + ' ' + (filteredOut() ? '-' : '+')"></strong>
				<div data-bind="foreach: flights">
					<div>
						<span data-bind="text: id"></span>
						<strong data-bind="text: (filteredOut() ? '-' : '+') + '->' + totalTimeTransfers"></strong>
					</div>
				</div>
				<div data-bind="foreach: legGroupings">
					<div style="display: inline-block;vertical-align: top;width: 33%;">
						<div data-bind="text: selected().flights.join(', ')"></div>
						<select
							style="width: 90%;"
							data-bind="
								options: options,
								value: selected,
								optionsText: function (item) {return $parent.getSelectedFlightsData(item, $index())},
								optionsAfterRender: setOptionDisable
							"
						></select>
					</div>
				</div>
				<div>
					<strong data-bind="text: selectedFlightsIds().join(', ') || '---'"></strong>
				</div>
			</div>
			<!-- /ko -->
		</div>
	<!-- /ko -->
	<!-- ko if: !hasVisibleResult() -->
	<h2>FILTERS GIVEN EMPTY RESULT</h2>
	<!-- /ko -->
</div>
<!-- /ko -->

<!-- ko if: $$loading() -->
LOADING
<!-- /ko -->

<!-- ko if: $$error() -->
<div data-bind="text: $$error()"></div>
<!-- /ko -->

<!--<div class="" data-bind="component: {-->
	                <!--name: 'FlightsSearchForm/FlightsSearchFormController',-->
					<!--params: { asdasd: 'asdasdasd' }-->
				<!--}">Loading flights search form...</div>-->