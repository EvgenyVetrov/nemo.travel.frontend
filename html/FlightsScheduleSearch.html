<!-- nemo-flights-form_compact || nemo-flights-form_twoThirds -->
<div class="nemo-flights-form js-autofocus-form js-nemoApp__component" data-bind="css: {'nemo-flights-form-scheduleSearch__searchToTop': scheduleLoading() || schedule.flights().length}"> <!-- MODIFIERS: nemo-flights-form_compact || nemo-flights-form_twoThirds -->
	<!-- ko if: !$$loading() && !$$error() -->
		<div class="nemo-flights-form__header" {*data-bind="text: $root.i18n('FlightsSearchForm', 'flightsScheduleForm-header')"*}></div>
		
		<div class="nemo-flights-form__formContainer">
			<!-- ko if: !searchAllowedByParamChange() -->
			<div
					class="nemo-ui-hint nemo-ui-hint_warn nemo-flights-form__searchBlockedError"
					data-bind="text: $root.i18n('FlightsSearchForm','error_searchBlocked'), click: function (d,e) {$(e.target).hide()}"></div>
			<!-- /ko -->
			<div class="nemo-flights-form__formContainer__inner">
				<div data-bind="attr: {'class':'nemo-flights-form__route'}, foreach: segments(), flightsFormAutoFocus: null"><div class="nemo-flights-form__route__segment nemo-flights-form__route__segment_schedule" style="width: 100%"><div class="nemo-flights-form__route__segment__item nemo-flights-form__route__segment__item_from"data-bind="css: {'nemo-flights-form__route__segment__item_hasError': $parent.validaTERROR() && items.departure.error()}"><label class="nemo-ui-textInput nemo-ui-dummiedInput js-flightsSearchForm-autocomplete"><!-- ko if: $parent.validaTERROR() && items.departure.error() && items.departure.focus() --><div class="nemo-ui-hint nemo-ui-hint_warn nemo-flights-form__route__segment__item__error"data-bind="text: $root.i18n('FlightsSearchForm','error_departure_'+items.departure.error());"></div><!-- /ko --><div class="nemo-flights-form__route__segment__item__inputContainer"><input class="nemo-ui-textInput__input nemo-ui-dummiedInput__input nemo-flights-form__route__segment__input nemo-flights-form__route__segment__input_autocomplete js-autofocus-field js-autofocus-field_departure"type="text"data-bind="flightsFormGeoAC: items.departure.value, hasFocus: items.departure.focus,attr: {placeholder: $root.i18n('FlightsSearchForm','segments__departure__placeholder')}"><div class="nemo-ui-dummiedInput__dummy nemo-flights-form__route__segment__item__dummy js-flightsSearchForm-autocomplete-dummy"><!-- ko if: !items.departure.value() --><span class="nemo-ui-dummiedInput__dummy__placeholder js-flightsSearchForm-autocomplete-dummy__placeholder"data-bind="text: $root.i18n('FlightsSearchForm','segments__departure__placeholder')"></span><!-- /ko --><!-- ko if: items.departure.value() --><!-- ko with: items.departure.value() --><span class="nemo-ui-dummiedInput__dummy__main js-flightsSearchForm-autocomplete-dummy__main" data-bind="text: name"></span><span class="nemo-ui-dummiedInput__dummy__aux js-flightsSearchForm-autocomplete-dummy__aux" data-bind="text: ', ' + country.name"></span><!-- /ko --><!-- /ko --></div></div></label><!-- ko if: items.departure.value() || items.arrival.value() --><div class="nemo-flights-form__route__segment__switchGeos"data-bind="click: function () {var t = items.departure.value();items.departure.value(items.arrival.value());items.arrival.value(t);}"></div><!-- /ko --></div><div class="nemo-flights-form__route__segment__item nemo-flights-form__route__segment__item_to"data-bind="css: {'nemo-flights-form__route__segment__item_hasError': $parent.validaTERROR() && items.arrival.error()}"><label class="nemo-ui-textInput nemo-ui-dummiedInput js-flightsSearchForm-autocomplete"><!-- ko if: $parent.validaTERROR() && items.arrival.error() && items.arrival.focus() --><div class="nemo-ui-hint nemo-ui-hint_warn nemo-flights-form__route__segment__item__error"data-bind="text: $root.i18n('FlightsSearchForm','error_arrival_'+items.arrival.error())"></div><!-- /ko --><div class="nemo-flights-form__route__segment__item__inputContainer"><input class="nemo-ui-textInput__input nemo-ui-dummiedInput__input nemo-flights-form__route__segment__input nemo-flights-form__route__segment__input_autocomplete js-autofocus-field js-autofocus-field_arrival"type="text"data-bind="flightsFormGeoAC: items.arrival.value, hasFocus: items.arrival.focus,attr: {placeholder: $root.i18n('FlightsSearchForm','segments__arrival__placeholder')}"><div class="nemo-ui-dummiedInput__dummy nemo-flights-form__route__segment__item__dummy js-flightsSearchForm-autocomplete-dummy"><!-- ko if: !items.arrival.value() --><span class="nemo-ui-dummiedInput__dummy__placeholder js-flightsSearchForm-autocomplete-dummy__placeholder"data-bind="text: $root.i18n('FlightsSearchForm','segments__arrival__placeholder')"></span><!-- /ko --><!-- ko if: items.arrival.value() --><!-- ko with: items.arrival.value() --><span class="nemo-ui-dummiedInput__dummy__main js-flightsSearchForm-autocomplete-dummy__main" data-bind="text: name"></span><span class="nemo-ui-dummiedInput__dummy__aux js-flightsSearchForm-autocomplete-dummy__aux" data-bind="text: ', ' + country.name"></span><!-- /ko --><!-- /ko --></div></div></label></div><div class="nemo-flights-form__route__segment__item nemo-flights-form__route__segment__item_date nemo-flights-form-scheduleSearch__departureDate"data-bind="css: {'nemo-flights-form__route__segment__item_hasError': $parent.validaTERROR() && items.departureDate.error()}"><label class="nemo-ui-textInput nemo-ui-dummiedInput nemo-flights-form__route__segment__item__date"><div class="nemo-flights-form__route__segment__item__date__indicator" data-bind="text: items.departureDate.value() ? items.departureDate.value().getDate() : 31"></div><!-- ko if: $parent.validaTERROR() && items.departureDate.error() && items.departureDate.focus() --><div class="nemo-ui-hint nemo-ui-hint_warn nemo-flights-form__route__segment__item__error"data-bind="text: $root.i18n('FlightsSearchForm','error_departureDate_'+items.departureDate.error());"></div><!-- /ko --><div class="nemo-flights-form__route__segment__item__inputContainer"><input class="nemo-ui-textInput__input nemo-ui-dummiedInput__input nemo-flights-form__route__segment__input nemo-flights-form__route__segment__input_date js-autofocus-field js-autofocus-field_date js-trd-restrictNumbers"type="text"data-bind="attr: {placeholder: $root.i18n('FlightsSearchForm','segments__date__placeholder')},flightsFormDatepicker: items.departureDate.value,hasFocus: items.departureDate.focus"><div class="nemo-ui-dummiedInput__dummy nemo-flights-form__route__segment__item__dummy nemo-flights-form__route__segment__item__date__dummy"><!-- ko if: !items.departureDate.value() --><span class="nemo-ui-dummiedInput__dummy__placeholder" data-bind="text: $root.i18n('FlightsSearchForm','segments__date__placeholder' + ($parent.tripType() == 'RT' ? ($index() == 0 ? '_RT_leg_0' : '_RT_leg_1') : ''))"></span><!-- /ko --><!-- ko if: items.departureDate.value() --><span class="nemo-ui-dummiedInput__dummy__main"data-bind="text: items.departureDate.value().getDate()+'.'+items.departureDate.value().getMonth()+'.'+items.departureDate.value().getYear()"></span><!-- /ko --></div></div></label></div></div></div>
	
				<div class="nemo-flights-form__buttonContainer nemo-flights-form-scheduleSearch__buttonContainer">
					<button id="startScheduleSearch" class="nemo-ui-button nemo-ui-button_main nemo-ui-button nemo-ui-button_main_form nemo-flights-form__searchButton nemo-flights-form-scheduleSearch__searchButton"
							data-bind="
							click: function() {
									calculatePeriod(segments()[0].items.departureDate.value());
									startSearch();
							},
							css: {
								'nemo-ui-button_disabled': !searchEnabled(),
								'nemo-flights-form__searchButton_searching': scheduleLoading()
							},
							text: $root.i18n('FlightsSearchForm','scheduleSearchButton__text')"></button>
				</div>
				
			</div>
		</div>
	
		<!-- ko if: scheduleLoading() || schedule.flights().length --><div class="nemo-flights-results nemo-flights-form-scheduleSearch"><section class="nemo-flights-results__content nemo-flights-form-scheduleSearch__content"><section class="nemo-ui-subContainer nemo-flights-results__content__results nemo-flights-form-scheduleSearch__content__results"><div class="nemo-flights-results__content__results__controls__item nemo-flights-results__content__results__controls__item_sorting nemo-flights-form-scheduleSearch__result" style=""><div class="nemo-flights-form-scheduleSearch__result__datesShift" data-bind="if: schedule.flights().length"><div class="nemo-ui-select js-common-pseudoSelect nemo-flights-results__content__results__controls__item__sort nemo-flights-form-scheduleSearch__sortList"><div class="nemo-ui-select__toggle js-common-pseudoSelect__toggle nemo-flights-form__routeOptions__item__selector__button" data-bind="pseudoSelect: null, text: schedulePeriodBegin().getDate() + (schedulePeriodBegin().getMonth() != schedulePeriodEnd().getMonth() ? ' ' + schedulePeriodBegin().getMonthName() : '') + ' – ' + schedulePeriodEnd().getDate() + ' ' + schedulePeriodEnd().getMonthName()" style="">Даты</div><div class="nemo-ui-select__dropdown js-common-pseudoSelect__dropdown"  style="display: none; top: 100%;"><!-- ko if: schedulePeriodBegin().getTimestamp() * 1000 > dateRestrictions[0][0].getTime() --><!-- ko with: {begin: schedulePeriodBegin().offsetDate(-periodLength), end: schedulePeriodEnd().offsetDate(-periodLength)} --><div class="nemo-ui-select__dropdown__item" data-bind="click: function () {$parent.schedulePeriodBegin(begin);$parent.schedulePeriodEnd(end);$parent.startSearch();},text: begin.getDate() + (begin.getMonth() != end.getMonth() ? ' ' + begin.getMonthName() : '') + ' – ' + end.getDate() + ' ' + end.getMonthName()"></div><!-- /ko --><!-- /ko --><div class="nemo-ui-select__dropdown__item" data-bind="text: schedulePeriodBegin().getDate() + (schedulePeriodBegin().getMonth() != schedulePeriodEnd().getMonth() ? ' ' + schedulePeriodBegin().getMonthName() : '') + ' – ' + schedulePeriodEnd().getDate() + ' ' + schedulePeriodEnd().getMonthName()"></div><!-- ko if: schedulePeriodEnd().getTimestamp() * 1000 < dateRestrictions[0][1].getTime() --><!-- ko with: {begin: schedulePeriodBegin().offsetDate(periodLength), end: schedulePeriodEnd().offsetDate(periodLength)} --><div class="nemo-ui-select__dropdown__item" data-bind="click: function () {$parent.schedulePeriodBegin(begin);$parent.schedulePeriodEnd(end);$parent.startSearch();},text: begin.getDate() + (begin.getMonth() != end.getMonth() ? ' ' + begin.getMonthName() : '') + ' – ' + end.getDate() + ' ' + end.getMonthName()"></div><!-- /ko --><!-- /ko --></div></div><div class="nemo-ui-select js-common-pseudoSelect nemo-flights-results__content__results__controls__item__sort nemo-flights-form-scheduleSearch__sortList"><div class="nemo-ui-select__toggle js-common-pseudoSelect__toggle nemo-flights-form__routeOptions__item__selector__button" data-bind="pseudoSelect: null, text: $root.i18n('FlightsSearchForm','flightsResults-table__header__sortType_' + sort())" style="min-width: 156px;"></div><div class="nemo-ui-select__dropdown js-common-pseudoSelect__dropdown"  style="display: none; top: 100%;"><div data-bind="foreach: possibleSorts"><div class="nemo-ui-select__dropdown__item" data-bind="text: $root.i18n('FlightsSearchForm','flightsResults-table__header__sortType_' + $data),click: function(){ $parent.doSort($data)},"></div></div></div></div></div><div class="nemo-flights-form-scheduleSearch__result__otherFilters" data-bind="foreach: PFOrder"><!-- ko if: $parent.postFiltersObject()[$data] --><!-- ko with: $parent.postFiltersObject()[$data] --><!-- ko if: typeof $data.isActive != 'undefined' ? isActive() : $data[0].isActive() --><!-- ko if: config.name != 'timeEnRoute' --><div class="nemo-ui-select js-common-pseudoSelect nemo-flights-results__content__results__controls__item__sort nemo-flights-form-scheduleSearch__sortList"><div class="nemo-ui-select__toggle js-common-pseudoSelect__toggle nemo-flights-form__routeOptions__item__selector__button"data-bind="pseudoSelect: null,text: ((value() != null && value() != '') ?(config.name == 'transfersCount' ? $root.i18n('FlightsSearchForm', 'flightsScheduleForm-PF__name_' + config.name) + ': ' : '' ) + value() : $root.i18n('FlightsSearchForm', 'flightsScheduleForm-PF__name_' + config.name))" style="min-width: 156px;">В одну сторону</div><div class="nemo-ui-select__dropdown js-common-pseudoSelect__dropdown"  style="display: none; top: 100%;"><div class="nemo-ui-select__dropdown__item" data-bind="text: $root.i18n('FlightsSearchForm','flightsResults-table__header__sortType_all'),click: function () {clear();}" style="border-bottom: 1px solid #e6e6e6;"></div><div data-bind="foreach: values"><div class="nemo-ui-select__dropdown__item" data-bind="text: value.name || value,click: function () {$parent.selectValue(key); }"></div></div></div></div><!-- /ko --><!-- /ko --><!-- /ko --><!-- /ko --></div></div><!-- ko if: scheduleLoading()--><div class="nemo-flights-results__content__results__loadingDummy"><div class="ui-dialog-titlebar ui-dialog-titlebar_progress nemo-flights-form__searchingInfoPopup__header nemo-flights-results__content__results__loadingDummy__header"><span class="ui-dialog-title"><span data-bind="timedBlockToggle: 120, text: $root.i18n('FlightsSearchResults', 'loadingDummy__results__progressText_timed')" style="display: none;"></span><span data-bind="timedBlockToggle: 120, text: $root.i18n('FlightsSearchResults', 'loadingDummy__results__progressText')"></span></span></div><div class="nemo-flights-form__searchingInfo" data-bind=""><div class="nemo-flights-form__searchingInfo__header" data-bind="text: $root.i18n('FlightsSearchResults', 'loadingDummy__results__header')"></div><div class="nemo-flights-form__searchingInfo__subHeader"data-bind="text: $root.i18n('FlightsSearchForm','searchingInfo__info').replace('[%-flightType-%]', $root.i18n('FlightsSearchForm', 'searchingInfo__flightType_' + tripType())).replace('[%-class-%]', $root.i18n('FlightsSearchForm', 'searchingInfo__class_' + serviceClass()))"></div><div class="nemo-flights-form__searchingInfo__segments" data-bind="css: {'nemo-flights-form__searchingInfo__segments_RTLike': segments.length == 2}, foreach: segments"><div class="nemo-flights-form__searchingInfo__segment"><div class="nemo-flights-form__searchingInfo__segment__inner"><div class="nemo-flights-form__searchingInfo__segment__date" data-bind="text: items.departureDate.value() ? items.departureDate.value().getDate() + ' ' + items.departureDate.value().getMonthName() + ', ' + items.departureDate.value().getDOWName() : ''"></div><div class="nemo-flights-form__searchingInfo__segment__route"><span class="nemo-flights-form__searchingInfo__segment__route__departure" data-bind="text: items.departure.value() ? items.departure.value().city.name || items.departure.value().name : ''"></span><span class="nemo-flights-form__searchingInfo__segment__route__arrival" data-bind="text: items.arrival.value() ? items.arrival.value().city.name || items.arrival.value().name : ''"></span></div></div></div></div></div></div><div class="nemo-flights-results__content__results__loadingDummyDivider" data-bind="foreach: new Array(7)"><div class="nemo-flights-results__flightsGroup_dummy  nemo-flights-results__groupList_list"><div class="nemo-flights-results__groupList__item  nemo-flights-form-scheduleSearch__content__results__item__dummy"><div class="nemo-ui-subContainer nemo-flights-results__flightsListGroup js-flights-results__group"><div class="nemo-flights-results__flightsListGroup__wrapper"><div class="nemo-flights-results__flightsListGroup__segments"><div class="nemo-flights-results__flightsListGroup__segment" style="padding-right: 0"><div class="nemo-flights-results__flightsListGroup__segment__carrier"><div class="nemo-flights-results__flightsListGroup__segment__carrier_stab"></div></div><div class="nemo-ui-select nemo-flights-results__flightsListGroup__segment__selector js-common-pseudoSelect"><div class="nemo-ui-select__toggle js-common-pseudoSelect__toggle nemo-flights-results__flightsListGroup__segment__selected nemo-flights-results__flightsListGroup__segment__selected_unopenable"><span class="nemo-flights-results__flightsListGroup__segment__selected__departure"><span class="nemo-flights-results__flightsListGroup__segment__selected__time nemo-flights-results__flightsListGroup__segment__selected__time_departure" data-bind="">∎∎∎∎</span><div class="nemo-flights-results__flightsListGroup__segment__selected__portName nemo-flights-results__flightsListGroup__segment__selected__portName_departure" data-bind="">∎∎∎∎∎∎∎∎∎∎∎∎</div><div class="nemo-flights-results__flightsListGroup__segment__selected__city nemo-flights-results__flightsListGroup__segment__selected__city_departure" data-bind="">∎∎∎∎∎∎∎</div></span><span class="nemo-flights-results__flightsListGroup__segment__selected__arrival"><span class="nemo-flights-results__flightsListGroup__segment__selected__time nemo-flights-results__flightsListGroup__segment__selected__time_arrival" data-bind="">∎∎∎∎</span><div class="nemo-flights-results__flightsListGroup__segment__selected__portName nemo-flights-results__flightsListGroup__segment__selected__portName_arrival" data-bind="">∎∎∎∎∎∎∎∎∎∎∎∎</div><div class="nemo-flights-results__flightsListGroup__segment__selected__city nemo-flights-results__flightsListGroup__segment__selected__city_arrival" data-bind=" ">∎∎∎∎∎∎∎</div></span></div></div><div class="nemo-flights-results__flightsListGroup__segment__additionalDetails"><div class="nemo-flights-results__flightsListGroup__segment__additionalDetails__info"><div class="nemo-flights-results__flightsGroup__leg__selector__selected__timeEnRoute" data-bind="">∎∎∎∎∎∎∎∎∎∎∎∎</div></div></div><div class="nemo-flights-results__flightsListGroup__buyButtonCnt"><div class="nemo-flights-results__flightsListGroup__buyButtonCnt__inner" style="direction: ltr"><div class="nemo-flights-results__flightsGroup__couplingButton  nemo-ui-button_disabled" style="margin-top: 10px">∎∎∎∎∎∎∎∎∎∎</div></div></div></div></div></div></div></div></div></div><!-- /ko --><div class="nemo-flights-form-scheduleSearch__content__results__list"><div data-bind="foreach: schedule.visibleFlights"><div class="nemo-ui-subContainer nemo-flights-results__scheduleFlightsListGroup js-flights-results__group"><div class="nemo-flights-results__scheduleFlightsListGroup__wrapper"><div class="nemo-flights-results__scheduleFlightsListGroup__segments"><div class="nemo-flights-results__scheduleFlightsListGroup__segment" style="padding-right: 0"><div class="nemo-flights-results__scheduleFlightsListGroup__segment__carrier"><img class="nemo-flights-results__scheduleFlightsListGroup__segment__carrier__logo" data-bind="attr: {src: $root.controller.options.staticInfoURL + getMarketingCompany().logo.image,title: getMarketingCompany().name,alt: getMarketingCompany().name},tooltip: {content: getMarketingCompany().name}"/></div><div class="nemo-ui-select nemo-flights-results__scheduleFlightsListGroup__segment__selector js-common-pseudoSelect"><div class="nemo-ui-select__toggle js-common-pseudoSelect__toggle nemo-flights-results__scheduleFlightsListGroup__segment__selected nemo-flights-results__scheduleFlightsListGroup__segment__selected_unopenable"><span class="nemo-flights-results__scheduleFlightsListGroup__segment__selected__departure"><span class="nemo-flights-results__scheduleFlightsListGroup__segment__selected__time nemo-flights-results__scheduleFlightsListGroup__segment__selected__time_departure" data-bind="text: depTime">01:45</span><div class="nemo-flights-results__scheduleFlightsListGroup__segment__selected__portName nemo-flights-results__scheduleFlightsListGroup__segment__selected__portName_departure" data-bind="text: depAirp.properName">Домодедово</div><!-- ko if: depAirp.city.id --><div class="nemo-flights-results__scheduleFlightsListGroup__segment__selected__city nemo-flights-results__scheduleFlightsListGroup__segment__selected__city_departure" data-bind="text: depAirp.city.name">Москва</div><!-- /ko --></span><span class="nemo-flights-results__scheduleFlightsListGroup__segment__selected__arrival"><span class="nemo-flights-results__scheduleFlightsListGroup__segment__selected__time nemo-flights-results__scheduleFlightsListGroup__segment__selected__time_arrival" data-bind="text: arrTime">01:45</span><div class="nemo-flights-results__scheduleFlightsListGroup__segment__selected__portName nemo-flights-results__scheduleFlightsListGroup__segment__selected__portName_arrival" data-bind="text: arrAirp.properName">Домодедово</div><!-- ko if: depAirp.city.id --><div class="nemo-flights-results__scheduleFlightsListGroup__segment__selected__city nemo-flights-results__scheduleFlightsListGroup__segment__selected__city_arrival" data-bind="text: arrAirp.city.name">Москва</div><!-- /ko --></span></div></div><div class="nemo-flights-results__scheduleFlightsListGroup__segment__additionalDetails"><div class="nemo-flights-results__scheduleFlightsListGroup__segment__additionalDetails__info"><div class="nemo-flights-results__scheduleFlightsListGroup__segment__timeEnRoute" data-bind="text: totalTimeEnRoute.readableStringShort(), tooltip: { content: $root.i18n('FlightsSearchForm', 'flightsForm-scheduleHeader_timeEnRoute') }">1 час 35 минут</div></div></div><div class="nemo-flights-results__scheduleFlightsListGroup__segment__calendar"><div class="nemo-flights-results__flightsListGroup__buyButtonCnt__inner  nemo-flights-form-scheduleSearch__content__results__details" style="direction: ltr"><div class="nemo-flights-form-scheduleSearch__select__days" data-bind="foreach: $parent.schedule.dates" style=""><div class="nemo-flights-form-scheduleSearch__select__day js-nemoApp-showBook"data-bind="attr: {'data-id': $parent.id,'data-date': date},css: {'nemo-flights-form-scheduleSearch__select__day_searchDate': date.getISODate() == $parents[1].segments()[0].items.departureDate.value().getISODate() && flights.indexOf($parent.id) >= 0,'nemo-flights-form-scheduleSearch__select__day_inactive': flights.indexOf($parent.id) < 0},click: function () {if (flights.indexOf($parent.id) >= 0) {$parents[1].showPassengersPopup($parent.getCleanFlightNumber(), date);}}"><div class="nemo-flights-form-scheduleSearch__select__day__date" data-bind="text: date.getDate();"></div><div class="nemo-flights-form-scheduleSearch__select__day__DOW" data-bind="text: date.getDOWNameShort()"></div></div></div><!-- ko with: {detailsOpen: ko.observable(false), flight: $data} --><div class="nemo-ui-button nemo-ui-button_common nemo-flights-form-scheduleSearch__content__results__details_button"data-bind="popup: {block: 'flightInfo',title: $root.i18n('FlightsSearchResults', 'flightsGroup__leg__info__title'),width: 'auto',parentClass: 'js-flights-results__group',contentClass: 'nemo-flights-results__flightsGroup__flightInfo',dialogClass: 'nemo-flights-results__flightInfoPopup',beforeOpen: function () {detailsOpen(true);}},text: $root.i18n('FlightsSearchForm','flightsForm-scheduleInfo__details')"></div><!-- ko if: detailsOpen --><div class="js-nemoApp__popupBlock"style="display: none;"data-block="flightInfo"><div class="nemo-flights-flightInfo">
	<div class="nemo-flights-flightInfo__leg" data-bind="with: flight">
		<!-- ko foreach: segments -->
			<div class="nemo-flights-flightInfo__leg__header" >
				<img class="nemo-flights-flightInfo__leg__header__carrierLogo" data-bind="attr: {
																src: marketingCompany ?  $root.controller.options.staticInfoURL + marketingCompany.logo.image : '',
																title: marketingCompany.name,
																alt: marketingCompany.name
														}">
				<span class="nemo-flights-flightInfo__leg__header__text" data-bind="html: $root.i18n('FlightsFlightInfo','leg__header').replace('[%-carrier-%]', marketingCompany.name)"></span>
			</div>
			<div class="nemo-flights-flightInfo__leg__route"><span class="nemo-flights-flightInfo__leg__route__departue" data-bind="text: depAirp.name"></span><span class="nemo-flights-flightInfo__leg__route__arrival" data-bind="text: arrAirp.name"></span><span class="nemo-flights-flightInfo__leg__route__date" data-bind="text: depTime"></span></div>
			<div class="nemo-flights-flightInfo__leg__segment">
				<div class="nemo-flights-flightInfo__leg__segment__departure">
					<div class="nemo-flights-flightInfo__leg__segment__departure__dateInfo">
						<div class="nemo-flights-flightInfo__leg__segment__time nemo-flights-flightInfo__leg__segment__time_departure" data-bind="text: depTime"></div>
					</div>
	
					<div class="nemo-flights-flightInfo__leg__segment__departure__geoInfo">
						<div class="nemo-flights-flightInfo__leg__segment__city nemo-flights-flightInfo__leg__segment__city_departure" data-bind="text: depAirp.city.name + ' (' + depAirp.country.name + ')'"></div>
	
						<div class="nemo-flights-flightInfo__leg__segment__airport nemo-flights-flightInfo__leg__segment__airport_departure">
							<span class="nemo-flights-flightInfo__leg__segment__airport__title" data-bind="text: $root.i18n('FlightsFlightInfo','leg__segment__departure__caption')"></span>
							<span class="nemo-flights-flightInfo__leg__segment__airport__value" data-bind="text: depAirp.properName"></span>
						</div>
	
						<!-- ko if: depTerminal -->
						<div class="nemo-flights-flightInfo__leg__segment__terminal nemo-flights-flightInfo__leg__segment__terminal_departure">
							<span class="nemo-flights-flightInfo__leg__segment__terminal__title" data-bind="text: $root.i18n('FlightsFlightInfo','leg__segment__departure__terminal__caption')"></span>
							<span class="nemo-flights-flightInfo__leg__segment__terminal__value" data-bind="text:depTerminal"></span>
						</div>
						<!-- /ko -->
					</div>
				</div>
				<div class="nemo-flights-flightInfo__leg__segment__arrival">
					<div class="nemo-flights-flightInfo__leg__segment__arrival__dateInfo">
						<div class="nemo-flights-flightInfo__leg__segment__time nemo-flights-flightInfo__leg__segment__time_arrival" data-bind="text: arrTime"></div>
					</div>
					<div class="nemo-flights-flightInfo__leg__segment__arrival__geoInfo">
						<div class="nemo-flights-flightInfo__leg__segment__city nemo-flights-flightInfo__leg__segment__city_arrival" data-bind="text: arrAirp.city.name + ' (' + arrAirp.country.name + ')'"></div>
						<div class="nemo-flights-flightInfo__leg__segment__airport nemo-flights-flightInfo__leg__segment__airport_arrival">
							<span class="nemo-flights-flightInfo__leg__segment__airport__title" data-bind="text: $root.i18n('FlightsFlightInfo','leg__segment__arrival__caption')"></span>
							<span class="nemo-flights-flightInfo__leg__segment__airport__value" data-bind="text: arrAirp.properName"></span>
						</div>
						<!-- ko if: arrTerminal -->
						<div class="nemo-flights-flightInfo__leg__segment__terminal nemo-flights-flightInfo__leg__segment__terminal_arrival">
							<span class="nemo-flights-flightInfo__leg__segment__terminal__title" data-bind="text: $root.i18n('FlightsFlightInfo','leg__segment__arrival__terminal__caption')"></span>
							<span class="nemo-flights-flightInfo__leg__segment__terminal__value" data-bind="text: arrTerminal"></span>
						</div>
						<!-- /ko -->
					</div>
				</div>
				<div class="nemo-flights-flightInfo__leg__segment__additional"><div class="nemo-flights-flightInfo__leg__segment__additional__item nemo-flights-flightInfo__leg__segment__additional__item_carrier"><div class="nemo-flights-flightInfo__leg__segment__additional__item__title" data-bind="text: $root.i18n('FlightsFlightInfo','leg__segment__carrier__caption')"></div><div class="nemo-flights-flightInfo__leg__segment__additional__item__value" data-bind="text: operatingCompany.name,css: {'nemo-flights-flightInfo__leg__segment__additional__item__value_warning': operatingCompany.IATA != marketingCompany.IATA},tooltip: {detectOverflow: true,content: operatingCompany.name}"></div></div><div class="nemo-flights-flightInfo__leg__segment__additional__item nemo-flights-flightInfo__leg__segment__additional__item_flightNumber"><div class="nemo-flights-flightInfo__leg__segment__additional__item__title" data-bind="text: $root.i18n('FlightsFlightInfo','leg__segment__flightNumber__caption')"></div><div class="nemo-flights-flightInfo__leg__segment__additional__item__value" data-bind="text:  marketingCompany.IATA + ' ' + flightNumber"></div></div><!-- ko if: aircraftType --><div class="nemo-flights-flightInfo__leg__segment__additional__item nemo-flights-flightInfo__leg__segment__additional__item_aircraft"><div class="nemo-flights-flightInfo__leg__segment__additional__item__title" data-bind="text: $root.i18n('FlightsFlightInfo','leg__segment__aircraft__caption')"></div><div class="nemo-flights-flightInfo__leg__segment__additional__item__value" data-bind="text: aircraftType.name"></div></div><!-- /ko --></div>
			</div>
		<!-- /ko -->
		<div class="nemo-flights-flightInfo__leg__footer nemo-flights-form-scheduleSearch__flightInfo__footer">
			<div class="nemo-flights-flightInfo__leg__footer__item nemo-flights-flightInfo__leg__footer__item_timeEnRoute">
				<span class="nemo-flights-flightInfo__leg__footer__item__title" data-bind="text: $root.i18n('FlightsFlightInfo','leg__timeEnRoute__caption')">В пути</span>
				<span class="nemo-flights-flightInfo__leg__footer__item__value" data-bind="text: totalTimeEnRoute.readableString()">8 часов 40 минут</span>
			</div>
		</div>
	</div>
</div></div><!-- /ko --><!-- /ko --></div></div></div></div></div></div></div></div></section></section></div><!-- /ko -->		
		<!-- ko if: searchError -->
		<div data-bind="automaticPopup: {title: $root.i18n('FlightsSearchForm','searchingError__title'), close: function () {searchError(false);}}">
			<div data-bind="text: searchError" style="display: none;"></div>
		</div>
		<!-- /ko -->
	
	<!-- /ko -->

	<!-- ko if: $$error() -->
	<div data-bind="text: $$error()"></div>
	<!-- /ko -->

	<!-- ko if: $$loading() -->
	<div class="nemo-flights-form__loader"></div>
	<!-- /ko -->

	<!-- ko if: !$$loading() && !$$error() -->
	<div class="js-nemoApp__popupBlock" style="display: none" data-block="booking">

		<!-- ko if: passengersError() -->
			<div class="nemo-ui-hint nemo-ui-hint_warn nemo-flights-form-scheduleSearch-passengersError_hint"
				 data-bind="text: $root.i18n('FlightsSearchForm','error_passengers_'+passengersError())"></div>
		<!-- /ko -->

		<div data-bind="foreach: {data: passengerTypesOrder, as: 'passType'}">
			<!-- ko if: $parent.options.passengerCount[passType] &&  parseInt($parent.options.passengerCount[passType]) -->
			<div data-bind="attr: {'class': 'nemo-flights-form__passengersPopUp__item nemo-flights-form__passengersPopUp__item_' + passType}">
				<div class="nemo-flights-form__passengersPopUp__item__header" data-bind="text: $root.i18n('FlightsSearchForm','passengerType_'+passType+'_passSelectorName')"></div>
				<div class="nemo-flights-form__passengersPopUp__item__subheader" data-bind="text: $root.i18n('FlightsSearchForm','passengerType_'+passType+'_ageInfo')"></div>
				<div class="nemo-flights-form__passengersPopUp__item__counts" data-bind="foreach: $parent.getPassengersCounts(passType)">
					<div data-bind="text: $root.i18n('FlightsSearchForm','passengers_count_' + $data), attr: {'class':
					'nemo-flights-form__passengersPopUp__item__count nemo-flights-form__passengersPopUp__item__count_' + $data +
					(
					$parents[1].passengers()[passType] && $parents[1].passengers()[passType]() == $data ?
					' nemo-flights-form__passengersPopUp__item__count_active' :
					''
					) +
					(
					$data > $parents[1].passengersRestrictions()[passType].max || $data < $parents[1].passengersRestrictions()[passType].min ?
					' nemo-flights-form__passengersPopUp__item__count_disabled':
					''
					)
					},click: function () {$parents[1].setPassengers(passType, parseInt($data));}"></div>
				</div>
			</div>
			<!-- /ko -->

		</div>
	</div>
	<!-- /ko -->
	
</div>